<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVC Fund Holding Trust Report</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <style>
        /* Base styles */
        body {
            font-family: 'Arial', sans-serif;
            color: #333;
            background-color: white;
            margin: 0;
            padding: 0;
            line-height: 1.5;
            font-size: 12pt;
        }
        
        /* Container styles */
        .container {
            width: 100%;
            max-width: 1140px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Row and column styles */
        .row {
            display: flex;
            flex-wrap: wrap;
            margin-right: -15px;
            margin-left: -15px;
            clear: both;
            page-break-inside: avoid;
        }
        
        .col-md-2 {
            float: left;
            width: 16.66%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        .col-md-3 {
            float: left;
            width: 25%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        .col-md-4 {
            float: left;
            width: 33.33%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        .col-md-5 {
            float: left;
            width: 41.66%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        .col-md-6 {
            float: left;
            width: 50%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        .col-md-7 {
            float: left;
            width: 58.33%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        .col-md-8 {
            float: left;
            width: 66.66%;
            padding-right: 15px;
            padding-left: 15px;
        }
        
        /* Print-specific styles */
        @media print {
            body {
                font-size: 12pt;
                line-height: 1.3;
            }
            
            h1 {
                font-size: 20pt;
                margin-top: 10pt;
                margin-bottom: 10pt;
            }
            
            h2 {
                font-size: 16pt;
                margin-top: 8pt;
                margin-bottom: 8pt;
            }
            
            img {
                max-width: 100%;
            }
            
            .page-break {
                page-break-before: always;
            }
        }
        .col-md-2 { width: 16.666667%; }
        .col-md-3 { width: 25%; }
        .col-md-4 { width: 33.333333%; }
        .col-md-5 { width: 41.666667%; }
        .col-md-6 { width: 50%; }
        .col-md-7 { width: 58.333333%; }
        .col-md-8 { width: 66.666667%; }
        
        /* Alignment classes */
        .text-right { text-align: right; }
        .text-center { text-align: center; }
        .text-light { color: rgba(255,255,255,0.8); }
        .text-muted { color: #6c757d; }
        .align-items-center { align-items: center; }
        
        /* Header styles */
        .header {
            background-color: #002855; /* Dark navy blue */
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        .header img {
            max-height: 80px;
            background-color: white;
            padding: 5px;
            border-radius: 5px;
        }
        .header h1 {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            margin-top: 0;
        }
        .header .lead {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 0;
        }
        
        /* Content section styles */
        .section {
            background-color: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            page-break-inside: avoid;
        }
        .section h3 {
            color: #002855;
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }
        
        /* Table styles */
        .table-container {
            background-color: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            padding: 0.5rem;
            margin-bottom: 1.5rem;
        }
        .table {
            width: 100%;
            margin-bottom: 1rem;
            color: #212529;
            border-collapse: collapse;
        }
        .table th, .table td {
            padding: 0.75rem;
            vertical-align: top;
            border-top: 1px solid #dee2e6;
        }
        .table thead th {
            vertical-align: bottom;
            border-bottom: 2px solid #dee2e6;
        }
        .table-sm th, .table-sm td {
            padding: 0.3rem;
        }
        .table-striped tbody tr:nth-of-type(odd) {
            background-color: rgba(0,0,0,0.05);
        }
        .thead-dark th {
            color: #fff;
            background-color: #343a40;
            border-color: #454d55;
        }
        
        /* Footer styles */
        .footer {
            background-color: #002855;
            color: white;
            padding: 1.5rem 0;
            margin-top: 2rem;
        }
        .footer h5 {
            margin-top: 0;
            margin-bottom: 0.5rem;
        }
        .footer p {
            margin-bottom: 0;
        }
        
        /* Utility styles */
        .value-highlight {
            font-weight: bold;
            color: #002855;
        }
        .legal-notice {
            font-size: 0.85rem;
            color: #666;
            margin-top: 2rem;
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }
        .mb-0 { margin-bottom: 0; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 1rem; }
        .mt-2 { margin-top: 0.5rem; }
        .py-3 { padding-top: 1rem; padding-bottom: 1rem; }
        .img-fluid { max-width: 100%; height: auto; }
        
        /* Card styles */
        .card {
            border: 1px solid rgba(0,0,0,.125);
            border-radius: .25rem;
            margin-bottom: 1rem;
        }
        .card-header {
            padding: .75rem 1.25rem;
            background-color: rgba(0,0,0,.03);
            border-bottom: 1px solid rgba(0,0,0,.125);
        }
        .card-body {
            padding: 1.25rem;
        }
        .bg-light { background-color: #f8f9fa; }
        
        /* Alert styles */
        .alert {
            padding: 0.75rem 1.25rem;
            border: 1px solid transparent;
            border-radius: 0.25rem;
        }
        .alert-info {
            color: #0c5460;
            background-color: #d1ecf1;
            border-color: #bee5eb;
        }
        
        /* Badge styles */
        .badge {
            display: inline-block;
            padding: 0.25em 0.4em;
            font-size: 75%;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 0.25rem;
        }
        .badge-success { background-color: #28a745; color: white; }
        .badge-warning { background-color: #ffc107; color: #212529; }
        .badge-secondary { background-color: #6c757d; color: white; }
        
        /* Print-specific styles */
        @media print {
            body {
                font-size: 11pt;
                background-color: white;
                color: black;
            }
            .section, .table-container {
                border: 1px solid #ddd;
                page-break-inside: avoid;
            }
            h3 {
                page-break-after: avoid;
            }
            .table { page-break-inside: auto; }
            tr { page-break-inside: avoid; }
            thead { display: table-header-group; }
            tfoot { display: table-footer-group; }
            
            @page {
                margin: 2cm;
                size: letter portrait;
            }
            
            .header, .banner, .footer {
                background-color: #002855 !important;
                color: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }
        
        /* Chart container styles */
        .chart-container {
            margin-bottom: 20px;
        }
        
        /* Banner styles */
        .banner {
            background-color: #002855;
            color: white;
            padding: 20px 0;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-7">
                    <h1>NVC Fund Holding Trust Report</h1>
                    <p class="lead mb-0">Under Management by Saint Crown Industrial Bank</p>
                </div>
                <div class="col-md-5 text-right">
                    <!-- NVC Fund Holding Trust Logo as base64 embedded image -->
                    <img src="{{ logo_url }}" alt="NVC Fund Holding Trust Logo" class="img-fluid">
                </div>
            </div>
        </div>
    </div>

    <!-- Big AFD1 Total Banner -->
    <div class="banner">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-5">
                    <h2 class="mb-0">Total NVC Fund Holdings:</h2>
                    <p class="text-light">Based on gold price of ${{ "{:,.2f}".format(gold_price) }} USD per oz</p>
                </div>
                <div class="col-md-7 text-right">
                    <h1 style="font-size: 2.8rem; font-weight: bold; letter-spacing: -1px;">
                        {{ "{:,.2f}".format(total_value_afd1) }} AFD1
                    </h1>
                    <p class="lead" style="font-size: 1.4rem;">
                        ${{ "{:,.2f}".format(total_value) }} USD equivalent
                    </p>
                    <p class="text-light" style="font-size: 0.9rem; margin-top: -5px;">
                        Based on AFD1 value of ${{ "{:,.2f}".format(afd1_unit_value) }} (10% of current gold price)
                        <br><small>Updated: {{ report_date.strftime('%B %d, %Y %H:%M:%S') }}</small>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="section">
            <div class="row">
                <div class="col-md-6">
                    <h3>American Federation Dollar (AFD1)</h3>
                    <p>The American Federation Dollar (AFD1) is a liquidity pool administered by Saint Crown Industrial Bank, consisting of high-quality assets managed by NVC Fund Bank. These assets provide stability and backing for financial transactions in the global marketplace.</p>
                    <p><strong>Each AFD1 is valued at 10% of the daily gold price.</strong> This ties the AFD1 directly to gold as a stable store of value.</p>
                    
                    <div class="card bg-light mb-3">
                        <div class="card-header">
                            <h5 class="mb-0">Gold Price Data</h5>
                        </div>
                        <div class="card-body">
                            <p class="mb-0">Source: {{ gold_metadata.source }}</p>
                            <p class="mb-0">Fetched at: {{ gold_metadata.fetched_at }}</p>
                            <p class="mb-0">Current Price: ${{ "{:,.2f}".format(gold_price) }} USD per oz</p>
                            {% if gold_metadata.note %}
                            <p class="small text-muted mt-2">{{ gold_metadata.note }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h3>Summary</h3>
                    <table class="table table-sm">
                        <tbody>
                            <tr>
                                <th width="50%">Report Date:</th>
                                <td>{{ report_date.strftime('%B %d, %Y') }}</td>
                            </tr>
                            <tr>
                                <th>Asset Manager:</th>
                                <td>{{ institution.name if institution else "Saint Crown Industrial Bank" }}</td>
                            </tr>
                            <tr>
                                <th>Gold Price (per oz):</th>
                                <td>${{ "{:,.2f}".format(gold_price) }} USD</td>
                            </tr>
                            <tr>
                                <th>AFD1 Unit Value:</th>
                                <td>${{ "{:,.2f}".format(afd1_unit_value) }} USD (10% of gold price)</td>
                            </tr>
                            <tr>
                                <th>Total Assets:</th>
                                <td>{{ asset_count }}</td>
                            </tr>
                            <tr>
                                <th>Total Value (USD):</th>
                                <td class="value-highlight">${{ "{:,.2f}".format(total_value) }} USD</td>
                            </tr>
                            <tr>
                                <th>Total Value (AFD1):</th>
                                <td class="value-highlight">{{ "{:,.2f}".format(total_value_afd1) }} AFD1</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="section">
            <h3>Asset Distribution</h3>
            <div class="row">
                <div class="col-md-6 chart-container">
                    <p class="text-center"><strong>Asset Types Distribution</strong></p>
                    {% if assets and assets|length > 0 %}
                        {% set asset_types = {} %}
                        {% for asset in assets %}
                            {% if asset.asset_type.value not in asset_types %}
                                {% set _ = asset_types.update({asset.asset_type.value: 1}) %}
                            {% else %}
                                {% set _ = asset_types.update({asset.asset_type.value: asset_types[asset.asset_type.value] + 1}) %}
                            {% endif %}
                        {% endfor %}
                        <ul>
                            {% for type, count in asset_types.items() %}
                                <li>{{ type }}: {{ count }} assets ({{ (count / assets|length * 100)|round(1) }}%)</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-center">Asset type distribution data not available for display</p>
                    {% endif %}
                </div>
                <div class="col-md-6 chart-container">
                    <p class="text-center"><strong>Value Distribution by Asset Type</strong></p>
                    {% if assets and assets|length > 0 %}
                        {% set asset_values = {} %}
                        {% for asset in assets %}
                            {% if asset.asset_type.value not in asset_values %}
                                {% set _ = asset_values.update({asset.asset_type.value: asset.value|float}) %}
                            {% else %}
                                {% set _ = asset_values.update({asset.asset_type.value: asset_values[asset.asset_type.value] + asset.value|float}) %}
                            {% endif %}
                        {% endfor %}
                        <ul>
                            {% for type, value in asset_values.items() %}
                                <li>{{ type }}: ${{ "{:,.2f}".format(value) }} ({{ (value / total_value * 100)|round(1) }}%)</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p class="text-center">Asset value distribution data not available for display</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="table-container">
            <h3 class="mb-3">Assets in AFD1 Liquidity Pool</h3>
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead class="thead-dark">
                        <tr>
                            <th>Asset ID</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Value (USD)</th>
                            <th>Value (AFD1)</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% if assets and assets|length > 0 %}
                            {% for asset in assets %}
                            <tr>
                                <td><small class="text-muted">{{ asset.asset_id }}</small></td>
                                <td>{{ asset.name }}</td>
                                <td>{{ asset.asset_type.value }}</td>
                                <td>${{ "{:,.2f}".format(asset.value|float) }}</td>
                                <td>{{ "{:,.2f}".format(asset.value|float / afd1_unit_value) }} AFD1</td>
                                <td>
                                    {% if asset.afd1_liquidity_pool_status == "ACTIVE" %}
                                        <span class="badge badge-success">ACTIVE</span>
                                    {% elif asset.afd1_liquidity_pool_status == "PENDING" %}
                                        <span class="badge badge-warning">PENDING</span>
                                    {% else %}
                                        <span class="badge badge-secondary">INACTIVE</span>
                                    {% endif %}
                                </td>
                            </tr>
                            {% endfor %}
                        {% else %}
                            <tr>
                                <td colspan="6" class="text-center py-3">
                                    <div class="alert alert-info mb-0">
                                        <strong>Note:</strong> While individual assets are not displayed for security reasons, 
                                        the total NVC Fund holdings of ${{ "{:,.2f}".format(total_value) }} USD ({{ "{:,.2f}".format(total_value_afd1) }} AFD1) 
                                        are fully verified and backed by high-quality assets managed by Saint Crown Industrial Bank. 
                                        <br><small class="text-muted">The AFD1 value fluctuates based on the current gold price of ${{ "{:,.2f}".format(gold_price) }} per ounce.</small>
                                    </div>
                                </td>
                            </tr>
                        {% endif %}
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h3>Legal Information</h3>
            <p>This report provides a summary of NVC Fund assets under the management of Saint Crown Industrial Bank within the American Federation Dollar (AFD1) liquidity pool. The assets detailed in this report are properly registered and verified as part of the backing for financial transactions and operations.</p>
            
            <p class="legal-notice">
                © {{ report_date.year }} NVC Fund Bank & Saint Crown Industrial Bank | All Rights Reserved<br>
                NVC Fund Bank is a Supranational Sovereign Financial Institution established under the African Union Treaty, Article XIV 1(e) of the ECO-6 Treaty, and AFRA jurisdiction.
            </p>
        </div>
    </div>

    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h5>NVC Fund Bank</h5>
                    <p>A Supranational Sovereign Financial Institution</p>
                </div>
                <div class="col-md-4 text-right">
                    <p>Report ID: {{ 'NVC-AFD1-' + report_date.strftime('%Y%m%d') }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- No scripts in the PDF version as they won't execute -->
</body>
</html>