<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVC Global Server-to-Server Integration Guide</title>
    <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
            color: var(--bs-body-color);
            background-color: var(--bs-body-bg);
        }
        .container {
            max-width: 960px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--bs-border-color);
        }
        .logo {
            max-width: 150px;
            margin-bottom: 20px;
            padding: 5px;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--bs-primary);
        }
        h2 {
            font-size: 1.8rem;
            margin-top: 30px;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--bs-border-color);
            color: var(--bs-primary);
        }
        h3 {
            font-size: 1.4rem;
            margin-top: 25px;
            color: var(--bs-info);
        }
        code {
            background-color: var(--bs-dark);
            padding: 2px 5px;
            border-radius: 3px;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            color: var(--bs-info);
        }
        pre {
            background-color: var(--bs-dark);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border: 1px solid var(--bs-border-color);
        }
        pre code {
            background-color: transparent;
            padding: 0;
        }
        .endpoint {
            background-color: var(--bs-dark);
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            border-left: 4px solid var(--bs-primary);
        }
        .endpoint .method {
            font-weight: bold;
            color: var(--bs-success);
            margin-right: 10px;
        }
        .endpoint .url {
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            color: var(--bs-light);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid var(--bs-border-color);
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: var(--bs-secondary-bg);
        }
        .note {
            background-color: var(--bs-secondary-bg);
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid var(--bs-warning);
            margin: 15px 0;
        }
        .important {
            background-color: var(--bs-secondary-bg);
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid var(--bs-danger);
            margin: 15px 0;
        }
        .footer {
            margin-top: 50px;
            text-align: center;
            color: var(--bs-secondary-color);
            padding-top: 20px;
            border-top: 1px solid var(--bs-border-color);
        }
        .section {
            margin-bottom: 40px;
        }
        .diagram {
            background-color: var(--bs-secondary-bg);
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            text-align: center;
        }
        .diagram img {
            max-width: 100%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">

            <h1>Server-to-Server Integration Guide</h1>
            <p>Version 1.0 | April 2025</p>
        </div>

        <div class="section">
            <h2>1. Introduction</h2>
            <p>
                This guide provides detailed instructions for financial institutions and corporate partners to 
                integrate with NVC Global's Server-to-Server (S2S) transfer system. The S2S system enables direct, 
                secure, high-volume financial transactions between institutions with minimal latency and maximum security.
            </p>
            
            <div class="note">
                <strong>Note:</strong> Server-to-Server transfers are designed for institutional use and require 
                explicit authorization and setup by NVC Global. Please contact your NVC Global account manager to 
                begin the verification and setup process.
            </div>
        </div>

        <div class="section">
            <h2>2. System Architecture</h2>
            <p>
                The NVC Global Server-to-Server transfer system is built on a secure, multi-layered architecture 
                that ensures both performance and security for high-value transfers.
            </p>

            <h3>2.1 Core Components</h3>
            <ul>
                <li><strong>Authentication Layer</strong> - Multi-factor authentication and API key validation</li>
                <li><strong>Encryption Layer</strong> - End-to-end encryption of all transaction data</li>
                <li><strong>Transaction Processing Engine</strong> - High-throughput processing for instant settlements</li>
                <li><strong>Audit & Compliance System</strong> - Real-time transaction monitoring and regulatory reporting</li>
                <li><strong>Reconciliation System</strong> - Automated matching and confirmation</li>
            </ul>

            <h3>2.2 System Architecture Diagram</h3>
            <div class="diagram">
                <pre>
┌──────────────────┐     ┌─────────────────┐     ┌──────────────────┐
│                  │     │                 │     │                  │
│   Institution A  │◄────►  NVC Global S2S  ◄────►   Institution B  │
│   (Originator)   │     │     Network     │     │   (Recipient)    │
│                  │     │                 │     │                  │
└──────────────────┘     └─────────────────┘     └──────────────────┘
          │                       │                       │
          │                       │                       │
          ▼                       ▼                       ▼
┌──────────────────┐     ┌─────────────────┐     ┌──────────────────┐
│                  │     │                 │     │                  │
│  Local Ledger    │     │ Central Ledger  │     │  Local Ledger    │
│                  │     │                 │     │                  │
└──────────────────┘     └─────────────────┘     └──────────────────┘
                                  │
                                  │
                                  ▼
                         ┌─────────────────┐
                         │                 │
                         │  Settlement &   │
                         │  Reconciliation │
                         │                 │
                         └─────────────────┘
                </pre>
            </div>
        </div>

        <div class="section">
            <h2>3. Integration Requirements</h2>

            <h3>3.1 Technical Requirements</h3>
            <ul>
                <li>HTTP/HTTPS support with TLS 1.2 or higher</li>
                <li>JSON request/response processing capabilities</li>
                <li>Ability to generate and validate digital signatures</li>
                <li>API endpoint exposed for receiving notifications</li>
                <li>Secure storage for API credentials</li>
                <li>Recommended: 99.9% uptime for critical systems</li>
            </ul>

            <h3>3.2 Security Requirements</h3>
            <ul>
                <li>Implementation of OAuth 2.0 or equivalent authentication protocol</li>
                <li>Adherence to data protection regulations (GDPR, CCPA, etc.)</li>
                <li>Implementation of IP whitelisting for API access</li>
                <li>Regular security audits and penetration testing</li>
                <li>Encryption of sensitive data at rest and in transit</li>
            </ul>

            <h3>3.3 Compliance Requirements</h3>
            <ul>
                <li>Compliance with AML/KYC regulations</li>
                <li>Implementation of transaction monitoring systems</li>
                <li>Record keeping according to financial regulatory requirements</li>
                <li>Ability to generate regulatory reports</li>
                <li>Support for transaction freezing/reversal procedures</li>
            </ul>

            <div class="important">
                <strong>Important:</strong> All integrating institutions must sign the NVC Global Security & Compliance 
                Agreement before gaining access to production systems.
            </div>
        </div>

        <div class="section">
            <h2>4. API Reference</h2>

            <h3>4.1 Authentication</h3>
            <p>
                All API requests must include the following authentication headers:
            </p>
            <pre><code>Authorization: Bearer {your_api_token}
X-API-Key: {your_api_key}
X-Request-Timestamp: {unix_timestamp}
X-Request-Signature: {hmac_signature}</code></pre>

            <p>The signature should be calculated as follows:</p>
            <pre><code>HMAC-SHA256(
    API_SECRET, 
    API_KEY + UNIX_TIMESTAMP + REQUEST_METHOD + ENDPOINT_PATH + REQUEST_BODY
)</code></pre>

            <h3>4.2 Server-to-Server Transfer API</h3>
            
            <h4>Initiate Transfer</h4>
            <div class="endpoint">
                <span class="method">POST</span>
                <span class="url">/s2s/api/transfer</span>
            </div>

            <p>Request Body:</p>
            <pre><code>{
  "institution_id": "12345",
  "amount": 1000000.00,
  "currency": "USD",
  "description": "Payment for services",
  "reference_code": "INV-2025-04-26",
  "transfer_type": "CREDIT",
  "callback_url": "https://your-institution.com/callbacks/s2s"
}</code></pre>

            <p>Response:</p>
            <pre><code>{
  "success": true,
  "transaction_id": "f8c3de3d-1d35-4e97-9e55-c578a9c9c897",
  "status": "PENDING",
  "message": "Server-to-Server transfer initiated successfully"
}</code></pre>

            <h4>Check Transfer Status</h4>
            <div class="endpoint">
                <span class="method">GET</span>
                <span class="url">/s2s/api/status/{transaction_id}</span>
            </div>

            <p>Response:</p>
            <pre><code>{
  "transaction_id": "f8c3de3d-1d35-4e97-9e55-c578a9c9c897",
  "status": "COMPLETED",
  "amount": 1000000.00,
  "currency": "USD",
  "created_at": "2025-04-26T10:30:00Z",
  "completed_at": "2025-04-26T10:30:05Z",
  "settlement_reference": "NVC-S2S-2025042600001"
}</code></pre>

            <h4>Schedule Future Transfer</h4>
            <div class="endpoint">
                <span class="method">POST</span>
                <span class="url">/s2s/api/schedule</span>
            </div>

            <p>Request Body:</p>
            <pre><code>{
  "institution_id": "12345",
  "amount": 1000000.00,
  "currency": "USD",
  "description": "Scheduled quarterly payment",
  "reference_code": "QTR-2025-Q2",
  "transfer_type": "CREDIT",
  "schedule_date": "2025-06-30T00:00:00Z",
  "callback_url": "https://your-institution.com/callbacks/s2s"
}</code></pre>

            <p>Response:</p>
            <pre><code>{
  "success": true,
  "transaction_id": "a1b2c3d4-5e6f-7g8h-9i0j-k1l2m3n4o5p6",
  "status": "SCHEDULED",
  "scheduled_for": "2025-06-30T00:00:00Z",
  "message": "Server-to-Server transfer scheduled successfully"
}</code></pre>
        </div>

        <div class="section">
            <h2>5. Implementation Guide</h2>

            <h3>5.1 Integration Process</h3>
            <ol>
                <li><strong>Application & Approval</strong> - Submit request for S2S access and complete compliance review</li>
                <li><strong>Development Access</strong> - Receive sandbox API credentials</li>
                <li><strong>Implementation</strong> - Develop against the sandbox environment</li>
                <li><strong>Testing</strong> - Complete test scenarios provided by NVC Global</li>
                <li><strong>Security Review</strong> - Pass security assessment</li>
                <li><strong>Production Deployment</strong> - Receive production credentials and go live</li>
            </ol>

            <h3>5.2 Sample Code (Python)</h3>
            <pre><code>import requests
import hmac
import hashlib
import time
import json

API_KEY = 'your_api_key'
API_SECRET = 'your_api_secret'
API_TOKEN = 'your_api_token'
BASE_URL = 'https://api.nvcglobal.com'

def generate_signature(method, endpoint, body):
    timestamp = str(int(time.time()))
    
    if isinstance(body, dict):
        body = json.dumps(body)
    
    message = API_KEY + timestamp + method + endpoint + (body or '')
    signature = hmac.new(
        API_SECRET.encode('utf-8'),
        message.encode('utf-8'),
        hashlib.sha256
    ).hexdigest()
    
    return signature, timestamp

def initiate_s2s_transfer(institution_id, amount, currency, description, reference_code):
    endpoint = '/s2s/api/transfer'
    method = 'POST'
    
    payload = {
        'institution_id': institution_id,
        'amount': amount,
        'currency': currency,
        'description': description,
        'reference_code': reference_code,
        'transfer_type': 'CREDIT',
        'callback_url': 'https://your-institution.com/callbacks/s2s'
    }
    
    signature, timestamp = generate_signature(method, endpoint, payload)
    
    headers = {
        'Authorization': f'Bearer {API_TOKEN}',
        'X-API-Key': API_KEY,
        'X-Request-Timestamp': timestamp,
        'X-Request-Signature': signature,
        'Content-Type': 'application/json'
    }
    
    response = requests.post(
        BASE_URL + endpoint,
        headers=headers,
        json=payload
    )
    
    return response.json()

# Example usage
result = initiate_s2s_transfer(
    institution_id='12345',
    amount=1000000.00,
    currency='USD',
    description='Payment for services',
    reference_code='INV-2025-04-26'
)

print(result)
</code></pre>

            <h3>5.3 Callback Handling</h3>
            <p>
                Your system must implement a callback endpoint to receive updates about transfer status changes.
                The callback will be sent as a POST request with the following payload:
            </p>

            <pre><code>{
  "event": "s2s.transfer.status_update",
  "transaction_id": "f8c3de3d-1d35-4e97-9e55-c578a9c9c897",
  "previous_status": "PENDING",
  "new_status": "COMPLETED",
  "timestamp": "2025-04-26T10:30:05Z",
  "settlement_reference": "NVC-S2S-2025042600001",
  "signature": "hmac_signature_of_payload"
}</code></pre>

            <p>
                Your system should validate the signature using the same HMAC-SHA256 algorithm described 
                in the authentication section.
            </p>
        </div>

        <div class="section">
            <h2>6. Testing and Certification</h2>

            <h3>6.1 Sandbox Environment</h3>
            <p>
                A complete sandbox environment is available for testing your integration. The sandbox 
                environment is identical to production but uses separate credentials and does not 
                affect real accounts or balances.
            </p>

            <p>Sandbox Base URL: <code>https://sandbox.api.nvcglobal.com</code></p>

            <h3>6.2 Test Scenarios</h3>
            <p>
                Complete the following test scenarios to verify your integration:
            </p>
            <ol>
                <li>Successful transfer with valid parameters</li>
                <li>Failed transfer due to insufficient funds</li>
                <li>Transfer with callback processing</li>
                <li>Scheduled future transfer</li>
                <li>Transfer status verification</li>
                <li>Error handling for invalid requests</li>
            </ol>

            <h3>6.3 Certification Process</h3>
            <p>
                Once you have successfully implemented and tested your integration, contact your 
                NVC Global account manager to begin the certification process. Certification involves:
            </p>
            <ol>
                <li>Code review of your implementation</li>
                <li>Security assessment</li>
                <li>Performance testing</li>
                <li>Compliance verification</li>
                <li>End-to-end testing with NVC Global</li>
            </ol>

            <div class="note">
                <strong>Note:</strong> Allow 2-4 weeks for the full certification process to be completed.
            </div>
        </div>

        <div class="section">
            <h2>7. Production Considerations</h2>

            <h3>7.1 Going Live Checklist</h3>
            <ul>
                <li>Complete all test scenarios successfully</li>
                <li>Receive certification approval from NVC Global</li>
                <li>Implement proper error handling and retry logic</li>
                <li>Set up monitoring for the integration</li>
                <li>Create runbooks for common issues</li>
                <li>Train support staff on the integration</li>
                <li>Set up alert notifications for failed transfers</li>
                <li>Implement reconciliation procedures</li>
            </ul>

            <h3>7.2 Support and Escalation</h3>
            <p>
                NVC Global provides 24/7 support for all S2S integrations. Contact information:
            </p>
            <ul>
                <li>Technical Support: <code>s2s-support@nvcglobal.com</code></li>
                <li>Emergency Hotline: <code>+1-888-NVC-S2S1</code> (available 24/7)</li>
                <li>Support Portal: <code>https://support.nvcglobal.com</code></li>
            </ul>

            <h3>7.3 Monitoring and Alerting</h3>
            <p>
                Implement monitoring for these key metrics:
            </p>
            <ul>
                <li>API response times</li>
                <li>Transfer success rates</li>
                <li>Callback processing success rates</li>
                <li>Error rates by error type</li>
                <li>Transfer volumes and amounts</li>
                <li>Authentication failures</li>
            </ul>
        </div>

        <div class="footer">
            <div style="background-color: #ffffff; border-radius: 8px; padding: 10px; display: inline-block;">

            </div>
            <p>&copy; 2025 NVC Global Banking Platform</p>
            <p>Confidential | For authorized use only</p>
        </div>
    </div>
</body>
</html>